{"version":3,"names":[],"mappings":"","sources":["community-squads.min.js"],"sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// Page components\n\tvar Height = __webpack_require__(1),\n\t  SocialSharing = __webpack_require__(2);\n\t\n\t// Window ready\n\t$(window).on('load', function() {\n\t  Height.itemHeight('[am-squad~=current-mission]', '[am-squad~=explorers]', 768);\n\t  Height.itemHeight('[am-profile~=tile-inner]', '[am-profile~=tile]', 768);\n\t  Height.itemHeight('[am-community~=tile-inner]', '[am-community~=tile]', 768);\n\t});\n\t\n\t\n\t// Doc ready\n\t$(document).ready(function() {\n\t  UserMessage.init();\n\t  Validation.init();\n\t\n\t  $(window).on('resize', function() {\n\t    Throttle.afterEvent('itemHeight', function() {\n\t      Height.itemHeight('[am-squad~=current-mission]', '[am-squad~=explorers]', 768);\n\t      Height.itemHeight('[am-profile~=tile-inner]', '[am-profile~=tile]', 768);\n\t      Height.itemHeight('[am-community~=tile-inner]', '[am-community~=tile]', 768);\n\t    });\n\t  });\n\t\n\t  // Open modal\n\t  $('[am-store~=cta-width] > [am-modal]').click(function(e) {\n\t    e.preventDefault();\n\t\n\t    // Open modal and start confetti\n\t    Modal.show('threadModal');\n\t  });\n\t\n\t  // Flag modal\n\t  $('[am-shout-out~=flag]').on('click', function(e) {\n\t    // Get post ID\n\t    var post = $(this).attr('data-post');\n\t\n\t    // Open modal\n\t    Modal.show('commentflag');\n\t\n\t    $('[am-form~=post]').val(post);\n\t    e.preventDefault();\n\t  });\n\t\n\t  // Toggle like\n\t  $('[data-icon~=heart]').on('click', function(e) {\n\t    e.preventDefault();\n\t    $(this).attr('data-icon', $(this).attr('data-icon') == 'heart-fill' ? 'heart' : 'heart-fill');\n\t  });\n\t\n\t  // Toggle pin\n\t  $('[data-icon~=pin]').on('click', function(e) {\n\t    e.preventDefault();\n\t    $(this).attr('data-icon', function () {\n\t\n\t          if ($(this).attr('data-icon') == 'pin-fill') {\n\t\n\t            // Confirm action\n\t            var confirm = window.confirm('Are you sure you want to unpin this article?');\n\t\n\t            // Unconfirmed - prevent default && keep pin filled\n\t            if (!confirm) {\n\t              e.preventDefault();\n\t            } else {\n\t              // Confirmed - unfill pin\n\t              $(this).attr('data-icon', 'pin');\n\t            }\n\t\n\t          } else if ($(this).attr('data-icon') == 'pin') {\n\t            $(this).attr('data-icon', 'pin-fill');\n\t          }\n\t      }\n\t    );\n\t  });\n\t\n\t  // Unpin\n\t  $('[data-icon~=pin-fill]').on('click', function(e) {\n\t\n\t    // Confirm action\n\t    var confirm = window.confirm('Are you sure you want to unpin this article?');\n\t\n\t    // Unconfirmed - prevent default\n\t    if (!confirm) {\n\t      e.preventDefault();\n\t    }\n\t  });\n\t\n\t  // Delete message\n\t  $('[data-icon~=trash]').on('click', function(e) {\n\t\n\t    // Confirm action\n\t    var confirm = window.confirm('Are you sure you want to delete this message?');\n\t\n\t    // Unconfirmed - prevent default\n\t    if (!confirm) {\n\t      e.preventDefault();\n\t    }\n\t  });\n\t\n\t  // Form validation\n\t  Validation.init();\n\t\n\t  $('[am-btn~=submit]').on('click', function(e) {\n\t    // Validate form\n\t    var section = $(this).parents('[am-modal~=container]')[0],\n\t        valid = Validation.section(section);\n\t\n\t    // Invalid - prevent submit\n\t    if (!valid) {\n\t      e.preventDefault();\n\t    }\n\t  });\n\t\n\t  // Close modal\n\t  $('[am-modal~=close]').on('click', function(e) {\n\t    Modal.hide('threadModal');\n\t    Modal.hide('commentflag');\n\t\n\t    // Clear form values\n\t    $('[am-flag~=form]').find('input[type=text], textarea').val('');\n\t\n\t    e.preventDefault();\n\t  });\n\t\n\t  // Initiate pods swiper carousel\n\t  $('[am-carousel~=pod-loop]').owlCarousel({\n\t    dots: false,\n\t    margin: 0,\n\t    nav: true,\n\t    rewind: false,\n\t    items: 1,\n\t    navText: ['<div am-carousel=\"prev\"><i data-icon=\"arrow-left\"></i></div>', '<div am-carousel=\"next\"><i data-icon=\"arrow-right\"></i></div>']\n\t  });\n\t\n\t  // Show menu\n\t  $(document).on('click', function(e) {\n\t    var target = $(e.target);\n\t    if (target.is('[am-thread~=more-marker]') && $('[am-thread~=more-list]').not('.active')) {\n\t      $(target).next('[am-thread~=more-list]').toggleClass('active');\n\t      e.preventDefault();\n\t    } else {\n\t      $('[am-thread~=more-list]').removeClass('active');\n\t    }\n\t  });\n\t\n\t  $('[am-thread~=more-marker]').on('click', function(e) {\n\t    $(target).next('[am-thread~=more-list]').toggleClass('active');\n\t  });\n\t\n\t  $('[am-connections~=search] input').on('keyup', function() {\n\t\n\t    var text = $(this).val(),\n\t      text_length = text.length;\n\t\n\t    // Show clear button\n\t    if (text_length > 0) {\n\t\n\t      $('[am-connections~=search] [am-connections~=search-clear]').show();\n\t\n\t    } else {\n\t\n\t      $('[am-connections~=search] [am-connections~=search-clear]').hide();\n\t    }\n\t\n\t    // Show results\n\t    if (text_length > 2) {\n\t\n\t      $('[am-connections~=email] [am-connections~=search-list]').slideUp();\n\t      $('[am-connections~=search] [am-connections~=search-list]').slideDown();\n\t\n\t    } else {\n\t\n\t      $('[am-connections~=search] [am-connections~=search-list]').slideUp();\n\t    }\n\t  });\n\t\n\t  $('[am-connections~=email] input').on('keyup', function() {\n\t\n\t    var text = $(this).val(),\n\t      text_length = text.length;\n\t\n\t    // Show clear button\n\t    if (text_length > 0) {\n\t\n\t      $('[am-connections~=email] [am-connections~=search-clear]').show();\n\t\n\t    } else {\n\t\n\t      $('[am-connections~=email] [am-connections~=search-clear]').hide();\n\t    }\n\t\n\t    // Show results\n\t    if (text_length > 2) {\n\t\n\t      $('[am-connections~=search] [am-connections~=search-list]').slideUp();\n\t      $('[am-connections~=email] [am-connections~=search-list]').slideDown();\n\t\n\t    } else {\n\t\n\t      $('[am-connections~=email] [am-connections~=search-list]').slideUp();\n\t    }\n\t  });\n\t\n\t\n\t  $('[am-connections~=search-clear]').on('click', function() {\n\t    // Clear input\n\t    $('[am-connections~=search] input').val('');\n\t\n\t    // Hide button\n\t    $(this).hide();\n\t\n\t    // Hide results list\n\t    $('[am-connections~=search-list]').slideUp();\n\t  });\n\t\n\t  // Enable shout out submit button\n\t  $('[am-connections~=email] input').on('keyup', function() {\n\t\n\t    // If the input is not empty\n\t    if($(this).val().length > 0) {\n\t      $('[am-connections~=send-email]').removeAttr('disabled');\n\t    }\n\t  });\n\t\n\t  // Social Sharing\n\t  SocialSharing.init('[am-breadcrumb~=social]', '[am-social~=sharing-icons]');\n\t\n\t  // Remove user from list and make selected\n\t  $('[am-connections~=emails] [am-connections~=email]').on('click', function(e) {\n\t    e.preventDefault();\n\t    $('[am-connections~=email] input').val('');\n\t    $('[am-connections~=search-list]').slideUp();\n\t    $('[am-connections~=email] input').val($(this).find('[am-connections~=search-main]').html());\n\t  });\n\t\n\t  // Follow button implementation\n\t  $('[am-btn~=follow]').on('click', function() {\n\t    $(this).html() == 'Unfollow' ? $(this).html('Follow') : $(this).html('Unfollow');\n\t\n\t    $(this).attr('am-btn', function(index, attr){\n\t      return attr == 'cross fill follow' ? 'tick fill follow' : 'cross fill follow';\n\t    });\n\t  });\n\t\n\t  // Invitation button implementation\n\t  $('[am-btn~=invite]').on('click', function() {\n\t    $(this).html() == 'Invited' ? $(this).html('Invite') : $(this).html('Invited');\n\t\n\t    $(this).attr('am-btn', function(index, attr){\n\t      return attr == 'cross fill invited' ? 'tick fill invite' : 'cross fill invited';\n\t    });\n\t  });\n\t\n\t  // Clear search on focus\n\t  var input = $('[am-banner~=connections-content] [am-form~=input]');\n\t\n\t  $(input).on('focus', function() {\n\t    $(this).data('previous-value', $(this).val());\n\t    $(this).val('');\n\t  });\n\t\n\t  // Restore search on blur\n\t  $(input).on('blur', function() {\n\t    if ($(this).val() == '') {\n\t      $(this).val($(this).data('previous-value'));\n\t    }\n\t  });\n\t\n\t});\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t\n\t  init: function(container, column, breakpoint) {\n\t\n\t    // Store scope\n\t    var scope = this;\n\t\n\t    if (typeof breakpoint !== typeof undefined && breakpoint !== false) {\n\t      var breakpoint = breakpoint;\n\t    } else {\n\t      var breakpoint = '768';\n\t    }\n\t\n\t    // Apply product grid heights\n\t    scope.itemHeight(container, column, breakpoint);\n\t\n\t    $(window).on('resize', function() {\n\t      Throttle.afterEvent('itemHeight', function() {\n\t        scope.itemHeight(container, column, breakpoint);\n\t      });\n\t    });\n\t  },\n\t\n\t  // Apply heights to product grid columns\n\t  // --------------------------------\n\t\n\t  itemHeight: function(container, column, breakpoint) {\n\t\n\t    // Store scope\n\t    var scope = this;\n\t\n\t    // Store product height\n\t    var colHeight = 0;\n\t\n\t    // Target breakpoints above mobile\n\t    if ($(window).width() >= breakpoint) {\n\t\n\t      // Loop products and get height\n\t      $(container).each(function() {\n\t        var itemHeight = $(this).outerHeight();\n\t        if (itemHeight > colHeight) {\n\t          colHeight = itemHeight;\n\t        }\n\t      });\n\t\n\t    } else {\n\t\n\t      // Set height to auto on mobile\n\t      colHeight = 'auto';\n\t    }\n\t\n\t    // Apply height to all columns\n\t    $(column).outerHeight(colHeight);\n\t  }\n\t};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t\n\t\n\t  // Execution\n\t  // --------------------------------\n\t  init: function (el, elShow) {\n\t    $(el).on('click', function (e) {\n\t      $(this).toggleClass('active');\n\t      $(this).next(elShow).toggleClass('active');\n\t\n\t      e.preventDefault();\n\t    });\n\t  }\n\t};\n\n/***/ })\n/******/ ]);\n"],"file":"community-squads.min.js","sourceRoot":"/source/"}