{"version":3,"names":[],"mappings":"","sources":["leaderboards.min.js"],"sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// Page components\n\tvar Filter = __webpack_require__(1),\n\t    Height = __webpack_require__(2),\n\t    ProfileCard = __webpack_require__(3),\n\t    AuthorCard = __webpack_require__(4);\n\t\n\t// Doc ready\n\t$(document).ready(function() {\n\t  UserMessage.init();\n\t  ProfileCard.init('[am-profile~=card-link]');\n\t  AuthorCard.init('[am-profile~=author-link]');\n\t\n\t  // Filters\n\t  Filter.sort('[am-filter~=link][data-tags]', '[am-code~=container]', '[am-filter~=list]', '[am-filter~=toggle]');\n\t  Filter.sort('[am-filter~=sub-link]', '[am-code~=container]');\n\t  Filter.init('[am-filter~=dropdown] > [am-filter~=link]','[am-filter~=toggle]');\n\t\n\t  // Make hero blocks equal height\n\t  Height.init('[am-leaderboards~=equal-height]', '[am-leaderboards~=equal-height]', 992);\n\t\n\t  // Scrolling\n\t  $('[am-table~=position-anchor]').click( function(e){\n\t    e.preventDefault();\n\t    $('html, body').animate({\n\t      scrollTop: $( '[am-table~=position]' ).offset().top\n\t    }, 400);\n\t    return false;\n\t  });\n\t\n\t  $('[am-filter~=sub-link-company]').first().click( function() {\n\t    $('[am-filter~=sub-link-company]').last().removeClass('active');\n\t    $(this).addClass('active');\n\t  });\n\t\n\t  $('[am-filter~=sub-link-company]').last().click( function() {\n\t    $('[am-filter~=sub-link-company]').first().removeClass('active');\n\t    $(this).addClass('active');\n\t  });\n\t\n\t  $('[am-filter~=sub-link-points]').first().click( function() {\n\t    $('[am-filter~=sub-link-points]').last().removeClass('active');\n\t    $(this).addClass('active');\n\t  });\n\t\n\t  $('[am-filter~=sub-link-points]').last().click( function() {\n\t    $('[am-filter~=sub-link-points]').first().removeClass('active');\n\t    $(this).addClass('active');\n\t  });\n\t\n\t  $('[am-filter~=link-connections]').click( function() {\n\t    $('[am-filter~=link-my-squads]').removeClass('active');\n\t    $(this).addClass('active');\n\t  });\n\t\n\t  $('[am-filter~=link-my-squads]').click( function() {\n\t    $('[am-filter~=link-connections]').removeClass('active');\n\t    $(this).addClass('active');\n\t  });\n\t\n\t});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t\n\t\n\t  // Initialise module\n\t  // --------------------------------\n\t\n\t  init: function(toggleButton, slideToggleButton) {\n\t\n\t    // Store scope\n\t    var scope = this;\n\t\n\t    // Slide toggle desktop filter on option click\n\t    $(toggleButton).on('click', function(e) {\n\t      scope.slideToggle('[am-filter~=container]', '[am-filter~=list]', '4.1rem');\n\t      $('[am-filter~=container]').toggleClass('active');\n\t      e.preventDefault();\n\t    });\n\t\n\t    // Toggle filter on mobile toggle click\n\t    $(slideToggleButton).on('click', function(e) {\n\t      scope.toggle('[am-filter~=list]', '[am-filter~=toggle]');\n\t      e.preventDefault();\n\t    });\n\t  },\n\t\n\t\n\t  // Slide toggle filter\n\t  // --------------------------------\n\t\n\t  slideToggle: function(container, el, height) {\n\t\n\t    // Store scope\n\t    var scope = this;\n\t\n\t    // Return if breakpoint is mobile\n\t    if ($(window).width() <= 767) {\n\t      return;\n\t    }\n\t\n\t    // Calculate height of filter\n\t    if (scope.status.slide) {\n\t      var filterHeight = height;\n\t    } else {\n\t      var filterHeight = $(el).outerHeight();\n\t    }\n\t\n\t    // Apply height to filter container\n\t    $(container).outerHeight(filterHeight);\n\t\n\t    // Update filter status\n\t    scope.status.slide = !scope.status.slide;\n\t  },\n\t\n\t\n\t  // Filter status\n\t  // --------------------------------\n\t\n\t  status: {},\n\t\n\t\n\t  // Toggle mobile filter\n\t  // --------------------------------\n\t\n\t  toggle: function(list, el) {\n\t\n\t    // Store scope\n\t    var scope = this;\n\t\n\t    // Toggle filter list\n\t    $(list).toggleClass('active');\n\t\n\t    // Apply active class to mobile filter toggle\n\t    $(el).toggleClass('active');\n\t\n\t    // Update filter status\n\t    scope.status.toggle = !scope.status.toggle;\n\t  },\n\t\n\t  //Sort filter functionality\n\t  sort: function(filterButtons, filterItems, filterList, filterToggle) {\n\t\n\t    var $items = $(filterItems),\n\t        $buttons = $(filterButtons),\n\t        tagged = {};\n\t\n\t    $items.each(function () {\n\t      var item = this;\n\t      var tags = $(this).data('tags');\n\t\n\t      if (tags) {\n\t        tags.split(/\\s*,\\s*/).forEach(function (tagName) {\n\t          if (tagged[tagName] == null) {\n\t            tagged[tagName] = [];\n\t          }\n\t          tagged[tagName].push(item);\n\t        });\n\t      }\n\t    });\n\t\n\t    $buttons.click(function(e) {\n\t      e.preventDefault();\n\t      var tagName = $(this).data('tags');\n\t\n\t      if (tagName === 'all') {\n\t\n\t        $('[data-tags]').removeClass('active');\n\t        $(this).addClass('active');\n\t        $items.show();\n\t        // Hide filterList active class\n\t        $(filterList).removeClass('active');\n\t        $('[am-filter~=container]').removeClass('active').css('height', '4.1rem');\n\t\n\t      } else {\n\t        // Remove the class active from the all button\n\t        $('[data-tags~=all]').removeClass('active');\n\t\n\t        if ($(this).attr('data-tags')) {\n\t          $(this).toggleClass('active');\n\t        }\n\t\n\t        // Create current array\n\t        var current = [];\n\t\n\t        $(filterButtons + '.active').each(function() {\n\t          current.push($(this).attr('data-tags'));\n\t        });\n\t\n\t        $items.hide();\n\t\n\t        $.each($items, function () {\n\t          var theTag = $(this).data('tags');\n\t\n\t          if ((/\\s*,\\s*/).test(theTag)) {\n\t            var resultArray = theTag.split(',').map( function(theTag) { return String(theTag); });\n\t\n\t            for (var i = 0; i < resultArray.length ; i++) {\n\t              if ( $.inArray( resultArray[i] , current) != -1) {\n\t                $(this).show();\n\t              }\n\t            }\n\t\n\t          } else {\n\t\n\t            if ($.inArray(theTag, current) != -1) {\n\t              $(this).show();\n\t            }\n\t\n\t          }\n\t        });\n\t      }\n\t\n\t      // Hide filtertoggle active class\n\t      $(filterToggle).removeClass('active');\n\t\n\t      // Show all the items if nothing is selected\n\t      if (! $(filterButtons).hasClass('active')) {\n\t        $items.show();\n\t        $('[data-tags~=all]').addClass('active');\n\t      }\n\t\n\t    });\n\t\n\t  },\n\t};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t\n\t  init: function(container, column, breakpoint) {\n\t\n\t    // Store scope\n\t    var scope = this;\n\t\n\t    if (typeof breakpoint !== typeof undefined && breakpoint !== false) {\n\t      var breakpoint = breakpoint;\n\t    } else {\n\t      var breakpoint = '768';\n\t    }\n\t\n\t    // Apply product grid heights\n\t    scope.itemHeight(container, column, breakpoint);\n\t\n\t    $(window).on('resize', function() {\n\t      Throttle.afterEvent('itemHeight', function() {\n\t        scope.itemHeight(container, column, breakpoint);\n\t      });\n\t    });\n\t  },\n\t\n\t  // Apply heights to product grid columns\n\t  // --------------------------------\n\t\n\t  itemHeight: function(container, column, breakpoint) {\n\t\n\t    // Store scope\n\t    var scope = this;\n\t\n\t    // Store product height\n\t    var colHeight = 0;\n\t\n\t    // Target breakpoints above mobile\n\t    if ($(window).width() >= breakpoint) {\n\t\n\t      // Loop products and get height\n\t      $(container).each(function() {\n\t        var itemHeight = $(this).outerHeight();\n\t        if (itemHeight > colHeight) {\n\t          colHeight = itemHeight;\n\t        }\n\t      });\n\t\n\t    } else {\n\t\n\t      // Set height to auto on mobile\n\t      colHeight = 'auto';\n\t    }\n\t\n\t    // Apply height to all columns\n\t    $(column).outerHeight(colHeight);\n\t  }\n\t};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t\n\t\n\t\n\t  // Profile-card modal\n\t  // --------------------------------\n\t  init: function(el) {\n\t\n\t    // Profile Avatar\n\t    $(el).click(function(e) {\n\t      var userName = $(this).attr('data-name'),\n\t          userLocation = $(this).attr('data-location'),\n\t          userImage = $(this).attr('data-avatar'),\n\t          userLevel = $(this).attr('data-level');\n\t\n\t      // Open modal\n\t      Modal.show('profileCard');\n\t\n\t      // Retrieve avatar attributes\n\t      $('[am-profile~=name]').html(userName);\n\t      $('[am-profile~=location]').html(userLocation);\n\t      $('[am-profile~=avatar-image]').attr('src', userImage);\n\t      $('[am-profile-card~=banner]').attr('am-border', userLevel);\n\t      $('[am-profile~=avatar-image]').attr('am-border', userLevel);\n\t\n\t      e.preventDefault();\n\t    });\n\t\n\t    $('[am-modal~=profile-card]').click(function(e){\n\t      e.preventDefault();\n\t      Modal.hide('profileCard');\n\t    });\n\t\n\t    $('[am-modal~=wrap]').mousedown(function(e) {\n\t      var clicked = $(e.target);\n\t      if (clicked.is('[am-profile-card~=container]') || clicked.parents().is('[am-profile-card~=container]')) {\n\t        return;\n\t      } else {\n\t          Modal.hide('profileCard');\n\t      }\n\t    });\n\t\n\t    // Toggle follow\n\t    $('[am-modal~=profile-card-container] [am-btn~=follow]').on('click', function() {\n\t      $(this).html() == 'Unfollow' ? $(this).html('Follow') : $(this).html('Unfollow');\n\t\n\t      $(this).attr('am-btn', function(index, attr){\n\t        return attr == 'cross fill follow' ? 'tick fill follow' : 'cross fill follow';\n\t      });\n\t    });\n\t\n\t  }\n\t};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t\n\t\n\t\n\t  // Author-card modal\n\t  // --------------------------------\n\t  init: function(el) {\n\t\n\t    // Author Avatar\n\t    $(el).click(function(e) {\n\t      var userName = $(this).attr('data-name'),\n\t          userLocation = $(this).attr('data-location'),\n\t          userImage = $(this).attr('data-avatar'),\n\t          userBanner = $(this).attr('data-banner'),\n\t          userLevel = $(this).attr('data-level'),\n\t          userFollowing = $(this).attr('data-following'),\n\t          userFollowers = $(this).attr('data-followers'),\n\t          userDetails = $(this).attr('data-details'),\n\t          userXbox = $(this).attr('data-xbox'),\n\t          userTwitter = $(this).attr('data-twitter'),\n\t          userFacebook = $(this).attr('data-facebook');\n\t\n\t      // Open modal\n\t      Modal.show('authorCard');\n\t\n\t      // Retrieve avatar attributes\n\t      $('[am-profile~=name]').html(userName);\n\t      $('[am-profile~=location]').html(userLocation);\n\t      $('[am-profile~=avatar-image]').attr('src', userImage);\n\t      $('[am-profile~=banner-image]').attr('src', userBanner);\n\t      $('[am-profile-card~=banner]').attr('am-border', userLevel);\n\t      $('[am-profile~=avatar-image]').attr('am-border', userLevel);\n\t      $('[am-profile~=following]').html(userFollowing);\n\t      $('[am-profile~=followers]').html(userFollowers);\n\t      $('[am-profile~=details]').html(userDetails);\n\t      $('[am-profile~=xbox]').html(userXbox);\n\t      $('[am-profile~=twitter]').html(userTwitter);\n\t      $('[am-profile~=facebook]').html(userFacebook);\n\t\n\t      e.preventDefault();\n\t    });\n\t\n\t    $('[am-modal~=profile-card]').click(function(e){\n\t      e.preventDefault();\n\t      Modal.hide('authorCard');\n\t    });\n\t\n\t    $('[am-modal~=wrap]').mousedown(function(e) {\n\t      var clicked = $(e.target);\n\t      if (clicked.is('[am-profile-card~=container]') || clicked.parents().is('[am-profile-card~=container]')) {\n\t        return;\n\t      } else {\n\t          Modal.hide('authorCard');\n\t      }\n\t    });\n\t\n\t    // Toggle follow\n\t    $('[am-modal~=author-card-container] [am-btn~=follow]').on('click', function() {\n\t      $(this).html() == 'Unfollow' ? $(this).html('Follow') : $(this).html('Unfollow');\n\t\n\t      $(this).attr('am-btn', function(index, attr){\n\t        return attr == 'cross fill follow' ? 'tick fill follow' : 'cross fill follow';\n\t      });\n\t    });\n\t\n\t  }\n\t};\n\n/***/ })\n/******/ ]);\n"],"file":"leaderboards.min.js","sourceRoot":"/source/"}