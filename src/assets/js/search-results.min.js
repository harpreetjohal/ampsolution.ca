/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	// Page components
	var Filter = __webpack_require__(1);
	
	// Doc ready
	$(document).ready(function() {
	
	  // Open search
	  Search.focus('[am-search~=form-results] [am-form~=input]');
	  Search.blur('[am-search~=form-results] [am-form~=input]');
	
	  // Filters
	  Filter.sort('[am-filter~=link][data-tags]', '[am-search~=result-container]', '[am-filter~=list]', '[am-filter~=toggle]');
	  Filter.sort('[am-filter~=sub-link]', '[am-search~=result-container]');
	  Filter.init('[am-filter~=dropdown] > [am-filter~=link]','[am-filter~=toggle]');
	
	});


/***/ }),
/* 1 */
/***/ (function(module, exports) {

	'use strict';
	
	module.exports = {
	
	
	  // Initialise module
	  // --------------------------------
	
	  init: function(toggleButton, slideToggleButton) {
	
	    // Store scope
	    var scope = this;
	
	    // Slide toggle desktop filter on option click
	    $(toggleButton).on('click', function(e) {
	      scope.slideToggle('[am-filter~=container]', '[am-filter~=list]', '4.1rem');
	      $('[am-filter~=container]').toggleClass('active');
	      e.preventDefault();
	    });
	
	    // Toggle filter on mobile toggle click
	    $(slideToggleButton).on('click', function(e) {
	      scope.toggle('[am-filter~=list]', '[am-filter~=toggle]');
	      e.preventDefault();
	    });
	  },
	
	
	  // Slide toggle filter
	  // --------------------------------
	
	  slideToggle: function(container, el, height) {
	
	    // Store scope
	    var scope = this;
	
	    // Return if breakpoint is mobile
	    if ($(window).width() <= 767) {
	      return;
	    }
	
	    // Calculate height of filter
	    if (scope.status.slide) {
	      var filterHeight = height;
	    } else {
	      var filterHeight = $(el).outerHeight();
	    }
	
	    // Apply height to filter container
	    $(container).outerHeight(filterHeight);
	
	    // Update filter status
	    scope.status.slide = !scope.status.slide;
	  },
	
	
	  // Filter status
	  // --------------------------------
	
	  status: {},
	
	
	  // Toggle mobile filter
	  // --------------------------------
	
	  toggle: function(list, el) {
	
	    // Store scope
	    var scope = this;
	
	    // Toggle filter list
	    $(list).toggleClass('active');
	
	    // Apply active class to mobile filter toggle
	    $(el).toggleClass('active');
	
	    // Update filter status
	    scope.status.toggle = !scope.status.toggle;
	  },
	
	  //Sort filter functionality
	  sort: function(filterButtons, filterItems, filterList, filterToggle) {
	
	    var $items = $(filterItems),
	        $buttons = $(filterButtons),
	        tagged = {};
	
	    $items.each(function () {
	      var item = this;
	      var tags = $(this).data('tags');
	
	      if (tags) {
	        tags.split(/\s*,\s*/).forEach(function (tagName) {
	          if (tagged[tagName] == null) {
	            tagged[tagName] = [];
	          }
	          tagged[tagName].push(item);
	        });
	      }
	    });
	
	    $buttons.click(function(e) {
	      e.preventDefault();
	      var tagName = $(this).data('tags');
	
	      if (tagName === 'all') {
	
	        $('[data-tags]').removeClass('active');
	        $(this).addClass('active');
	        $items.show();
	        // Hide filterList active class
	        $(filterList).removeClass('active');
	        $('[am-filter~=container]').removeClass('active').css('height', '4.1rem');
	
	      } else {
	        // Remove the class active from the all button
	        $('[data-tags~=all]').removeClass('active');
	
	        if ($(this).attr('data-tags')) {
	          $(this).toggleClass('active');
	        }
	
	        // Create current array
	        var current = [];
	
	        $(filterButtons + '.active').each(function() {
	          current.push($(this).attr('data-tags'));
	        });
	
	        $items.hide();
	
	        $.each($items, function () {
	          var theTag = $(this).data('tags');
	
	          if ((/\s*,\s*/).test(theTag)) {
	            var resultArray = theTag.split(',').map( function(theTag) { return String(theTag); });
	
	            for (var i = 0; i < resultArray.length ; i++) {
	              if ( $.inArray( resultArray[i] , current) != -1) {
	                $(this).show();
	              }
	            }
	
	          } else {
	
	            if ($.inArray(theTag, current) != -1) {
	              $(this).show();
	            }
	
	          }
	        });
	      }
	
	      // Hide filtertoggle active class
	      $(filterToggle).removeClass('active');
	
	      // Show all the items if nothing is selected
	      if (! $(filterButtons).hasClass('active')) {
	        $items.show();
	        $('[data-tags~=all]').addClass('active');
	      }
	
	    });
	
	  },
	};

/***/ })
/******/ ]);
//# sourceMappingURL=search-results.min.js.map
//# sourceMappingURL=search-results.min.js.map
