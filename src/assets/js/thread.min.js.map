{"version":3,"names":[],"mappings":"","sources":["thread.min.js"],"sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// Page components\n\tvar Charcount = __webpack_require__(1),\n\t    SmoothScrolling = __webpack_require__(2);\n\t\n\t// Doc ready\n\t$(document).ready(function() {\n\t\n\t  SmoothScrolling.init('[am-thread~=reply-block] > a');\n\t\n\t  // Show menu\n\t  $(document).on('click', function(e) {\n\t    var target = $(e.target);\n\t    if (target.is('[am-thread~=more-marker]') && $('[am-thread~=more-list]').not('.active')) {\n\t      $(target).next('[am-thread~=more-list]').toggleClass('active');\n\t      e.preventDefault();\n\t    } else {\n\t      $('[am-thread~=more-list]').removeClass('active');\n\t    }\n\t  });\n\t\n\t  // Show top reply form\n\t  $('[am-thread~=reply]').on('click', function(e) {\n\t    // Get post ID\n\t    var post = $(this).attr('data-post');\n\t    $('[am-form~=post]').val(post);\n\t\n\t    // Show reply box\n\t    $('[am-thread~=reply-block]').slideDown('fast');\n\t\n\t    // Scroll reply block to top\n\t    $('html, body').animate({\n\t      scrollTop: $('[am-thread~=reply-block]').offset().top -100\n\t    }, 400);\n\t\n\t    // Hide buttons\n\t    $('[am-thread~=reply-list]').slideUp('fast');\n\t    e.preventDefault();\n\t  });\n\t\n\t\n\t  // Append top reply form to specific post\n\t  $('[am-thread~=item-reply]').on('click', function(e) {\n\t\n\t    if ($('[am-thread~=top-reply]').html().trim() === \"\") {\n\t\n\t      // Put reply form back to original position\n\t      $('[am-thread~=reply-block]').appendTo('[am-thread~=top-reply]');\n\t\n\t      // Show buttons\n\t      $('[am-thread~=reply-list]').slideDown('fast');\n\t\n\t      // Clear textarea\n\t      $('[am-form~=reply] > [am-form~=textarea]').val('');\n\t      e.preventDefault();\n\t    }\n\t\n\t    // Get post ID\n\t    var post = $(this).attr('data-post');\n\t    $('[am-form~=post]').val(post);\n\t\n\t    // Show reply box\n\t    $('[am-thread~=top-reply] > [am-thread~=reply-block]').appendTo($(this).closest('[am-thread~=post]')).slideDown('fast');\n\t\n\t    // Scroll reply block to top\n\t    $('html, body').animate({\n\t      scrollTop: $('[am-thread~=reply-block]').offset().top -100\n\t    }, 400);\n\t\n\t    // Hide buttons\n\t    $('[am-thread~=reply-list]').slideUp('fast');\n\t    e.preventDefault();\n\t  });\n\t\n\t\n\t  // Hide reply form\n\t  $('[am-thread~=reply-cancel]').on('click', function(e) {\n\t    // Hide reply box\n\t    $('[am-thread~=reply-block]').slideUp('fast');\n\t\n\t    // Put reply form back to original position\n\t    $('[am-thread~=reply-block]').appendTo('[am-thread~=top-reply]');\n\t\n\t    // Show buttons\n\t    $('[am-thread~=reply-list]').slideDown('fast');\n\t\n\t    // Clear textarea\n\t    $('[am-form~=reply] > [am-form~=textarea]').val('');\n\t    e.preventDefault();\n\t  });\n\t\n\t\n\t  // Hide menu when item selected\n\t  $('[am-thread~=more-item]').on('click', function(e) {\n\t    $(this).parent('[am-thread~=more-list]').removeClass('active');\n\t    e.preventDefault();\n\t  });\n\t\n\t\n\t  // Form validation\n\t  Validation.init();\n\t\n\t  $('[am-btn~=submit]').on('click', function(e) {\n\t    Validation.validate();\n\t    e.preventDefault();\n\t  })\n\t\n\t\n\t  // Flag modal\n\t  $('[am-thread~=flag]').on('click', function(e) {\n\t    // Get post ID\n\t    var post = $(this).attr('data-post');\n\t\n\t    // Open modal\n\t    Modal.show('commentflag');\n\t\n\t    $('[am-form~=post]').val(post);\n\t    e.preventDefault();\n\t  });\n\t\n\t\n\t  // Close modal\n\t  $('[am-modal~=close]').on('click', function(e) {\n\t    Modal.hide('commentflag');\n\t\n\t    // Clear textarea\n\t    $('[am-form~=charcount]').val('');\n\t    e.preventDefault();\n\t  });\n\t\n\t\n\t  // Feedback char count\n\t  Charcount.init(250, '[am-form~=charcount-feedback]', '[am-form~=charcount]');\n\t\n\t});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t\n\t  // Initialise module\n\t  // --------------------------------\n\t\n\t  init: function(count, feedback, el) {\n\t\n\t    var text_max = count;\n\t\n\t    // Add max chars text\n\t    $(feedback).html(text_max + ' remaining');\n\t\n\t    // Listen for keyup on element\n\t    $(el).keyup(function() {\n\t      var text = $(el).val(),\n\t          text_length = text.length,\n\t          text_remaining = text_max - text_length,\n\t          newLines = text.match(/(\\r\\n|\\n|\\r)/g),\n\t          addition = 0;\n\t\n\t      // Detect line breaks\n\t      if (newLines != null) {\n\t        addition = newLines.length;\n\t      }\n\t\n\t      // Update max chars text\n\t      $(feedback).html((text_remaining - addition) + ' remaining');\n\t    });\n\t  }\n\t};\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t\n\t\n\t  // Initiate the scroll to top functionality\n\t  // --------------------------------\n\t\n\t  init: function (link, item) {\n\t\n\t    $(link).click(function(event){\n\t      event.preventDefault();\n\t\n\t      if (typeof item !== typeof undefined && item !== false) {\n\t        //Toggle Class\n\t        $(item).removeClass('active');\n\t        $(this).closest('li').addClass(\"active\");\n\t        var theClass = $(this).attr('class');\n\t        $('.'+theClass).parent('li').addClass('active');\n\t      }\n\t\n\t      //Animate page on scroll\n\t      $('html, body').stop().animate({\n\t        scrollTop: $( $(this).attr('href') ).offset().top - 50\n\t      }, 400);\n\t      return false;\n\t    });\n\t  }\n\t};\n\n/***/ })\n/******/ ]);\n"],"file":"thread.min.js","sourceRoot":"/source/"}